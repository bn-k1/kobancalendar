import{i as D,a as E,F as I}from"./calendar-BQ3AWHwQ.js";import{_ as $,q as A,C as l,c as n,r as N,m as T}from"./index-Cdz81MUP.js";import{b as r,a as x,w as g,e as H,f as L,o as O,s as R,p as V}from"./vendor-CEXAHpd4.js";import"./utils-DW2mDBql.js";const F={class:"calendar-container"},P={__name:"CalendarView",props:{initialDate:{type:[Date,Object]},startPosition:{type:Number,required:!1},events:{type:Array,default:()=>[]}},emits:["datesSet"],setup(f,{emit:y}){const d=f,o=y,{isHoliday:_,getHolidayName:h}=A(),c=r(void 0),s=r(void 0),i=r(void 0),S=x(()=>({plugins:[D,E],initialView:l.INITIAL_VIEW,initialDate:d.initialDate?d.initialDate:void 0,locale:l.LOCALE,events:d.events,aspectRatio:l.DEFAULT_ASPECT_RATIO,height:l.HEIGHT,dayCellClassNames:a=>{const e=n(a.date),t=[];return _(e)&&t.push("holiday"),e.day()===6&&t.push("fc-day-sat"),e.day()===0&&t.push("fc-day-sun"),N(e,T())&&t.push("today-highlight"),t},eventContent:a=>{const{event:e}=a;let[t,u="",v=""]=e.title.split(`
`);const{shiftIndex:m}=e.extendedProps,w=n(e.start),p=h(w),C=p?`${m+1} ${p}`:`${m+1}`;return{html:`
        <div class="event-title">${t}</div>
        ${u?`<div class="event-time">${u}</div>`:""}
        ${v?`<div class="event-time">${v}</div>`:""}
        <div class="event-meta">${C}</div>
      `}},datesSet:a=>{const e=n(a.start),t=n(a.end);(!s.value||!i.value||!e.isSame(s.value)||!t.isSame(i.value))&&(s.value=e,i.value=t,o("datesSet",{start:e,end:t}))}}));return g([()=>d.startPosition,()=>d.initialDate],()=>{s.value&&i.value&&o("datesSet",{start:s.value,end:i.value})}),H(()=>{setTimeout(()=>{if(c.value){const a=c.value.getApi();s.value=n(a.view.activeStart),i.value=n(a.view.activeEnd),o("datesSet",{start:s.value,end:i.value})}},0)}),(a,e)=>(O(),L("div",F,[R(V(I),{ref_key:"calendarRef",ref:c,options:S.value},null,8,["options"])]))}},G=$(P,[["__scopeId","data-v-a3f7709c"]]);export{G as default};
