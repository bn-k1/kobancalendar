import{i as D,F as E}from"./calendar-BeYUHXrl.js";import{_ as A,q as I,C as l,c as n,r as N,l as $}from"./index-DPmSsKcb.js";import{b as r,e as T,w as g,f as x,g as k,o as H,k as L,v as O}from"./vendor-DzBgbkkT.js";import"./utils-mma0L5NJ.js";const R={class:"calendar-container"},V={__name:"CalendarView",props:{initialDate:{type:[Date,Object]},startPosition:{type:Number,required:!1},events:{type:Array,default:()=>[]}},emits:["datesSet"],setup(f,{emit:y}){const d=f,o=y,{isHoliday:_,getHolidayName:h}=I(),c=r(void 0),s=r(void 0),i=r(void 0),S=T(()=>({plugins:[D],initialView:l.INITIAL_VIEW,initialDate:d.initialDate?d.initialDate:void 0,locale:l.LOCALE,events:d.events,aspectRatio:l.DEFAULT_ASPECT_RATIO,height:l.HEIGHT,dayCellClassNames:a=>{const e=n(a.date),t=[];return _(e)&&t.push("holiday"),e.day()===6&&t.push("fc-day-sat"),e.day()===0&&t.push("fc-day-sun"),N(e,$())&&t.push("today-highlight"),t},eventContent:a=>{const{event:e}=a;let[t,u="",v=""]=e.title.split(`
`);const{shiftIndex:m}=e.extendedProps,w=n(e.start),p=h(w),C=p?`${m+1} ${p}`:`${m+1}`;return{html:`
        <div class="event-title">${t}</div>
        ${u?`<div class="event-time">${u}</div>`:""}
        ${v?`<div class="event-time">${v}</div>`:""}
        <div class="event-meta">${C}</div>
      `}},datesSet:a=>{const e=n(a.start),t=n(a.end);(!s.value||!i.value||!e.isSame(s.value)||!t.isSame(i.value))&&(s.value=e,i.value=t,o("datesSet",{start:e,end:t}))}}));return g([()=>d.startPosition,()=>d.initialDate],()=>{s.value&&i.value&&o("datesSet",{start:s.value,end:i.value})}),x(()=>{setTimeout(()=>{if(c.value){const a=c.value.getApi();s.value=n(a.view.activeStart),i.value=n(a.view.activeEnd),o("datesSet",{start:s.value,end:i.value})}},0)}),(a,e)=>(H(),k("div",R,[L(O(E),{ref_key:"calendarRef",ref:c,options:S.value},null,8,["options"])]))}},B=A(V,[["__scopeId","data-v-936105ba"]]);export{B as default};
