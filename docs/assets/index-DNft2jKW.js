const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CalendarView-D2FIifXi.js","assets/calendar-dbx3VTxU.js","assets/vendor-BBDa20j7.js","assets/utils-mma0L5NJ.js","assets/CalendarView-CffnKKZN.css","assets/ExportSection-DeFeCflD.js","assets/MeetupView-yACMZsq-.js","assets/MeetupView-CtvZlrVw.css"])))=>i.map(i=>d[i]);
import{c as G,r as Ie,o as C,a as ae,b as R,e as E,f as Ee,g as N,t as q,u as xe,i as P,j as K,k as U,l as F,m as ce,F as Ce,n as $e,w as de,p as j,q as k,s as fe,S as Re,v as Le,x as be,y as Pe,z as Ne}from"./vendor-BBDa20j7.js";import{r as we,g as V,a as Be}from"./utils-mma0L5NJ.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))v(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&v(i)}).observe(document,{childList:!0,subtree:!0});function u(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function v(l){if(l.ep)return;l.ep=!0;const d=u(l);fetch(l.href,d)}})();const Ae=(e,o)=>{const u=e.__vccOpts||e;for(const[v,l]of o)u[v]=l;return u},He={};function ke(e,o){const u=Ie("router-view");return C(),G(u)}const Ue=Ae(He,[["render",ke]]),Me="modulepreload",Ye=function(e){return"/kobancalendar/"+e},me={},te=function(o,u,v){let l=Promise.resolve();if(u&&u.length>0){let i=function(c){return Promise.all(c.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const D=document.querySelector("meta[property=csp-nonce]"),m=(D==null?void 0:D.nonce)||(D==null?void 0:D.getAttribute("nonce"));l=i(u.map(c=>{if(c=Ye(c),c in me)return;me[c]=!0;const g=c.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const r=document.createElement("link");if(r.rel=g?"stylesheet":Me,g||(r.as="script"),r.crossOrigin="",r.href=c,m&&r.setAttribute("nonce",m),document.head.appendChild(r),g)return new Promise((s,n)=>{r.addEventListener("load",s),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${c}`)))})}))}function d(i){const D=new Event("vite:preloadError",{cancelable:!0});if(D.payload=i,window.dispatchEvent(D),!D.defaultPrevented)throw i}return l.then(i=>{for(const D of i||[])D.status==="rejected"&&d(D.reason);return o().catch(d)})};var Fe=we();const M=V(Fe);var W={exports:{}},Ve=W.exports,he;function ze(){return he||(he=1,function(e,o){(function(u,v){e.exports=v()})(Ve,function(){var u="minute",v=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(d,i,D){var m=i.prototype;D.utc=function(t){var a={date:t,utc:!0,args:arguments};return new i(a)},m.utc=function(t){var a=D(this.toDate(),{locale:this.$L,utc:!0});return t?a.add(this.utcOffset(),u):a},m.local=function(){return D(this.toDate(),{locale:this.$L,utc:!1})};var c=m.parse;m.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),c.call(this,t)};var g=m.init;m.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else g.call(this)};var h=m.utcOffset;m.utcOffset=function(t,a){var f=this.$utils().u;if(f(t))return this.$u?0:f(this.$offset)?h.call(this):this.$offset;if(typeof t=="string"&&(t=function(T){T===void 0&&(T="");var I=T.match(v);if(!I)return null;var x=(""+I[0]).match(l)||["-",0,0],$=x[0],b=60*+x[1]+ +x[2];return b===0?0:$==="+"?b:-b}(t),t===null))return this;var p=Math.abs(t)<=16?60*t:t,y=this;if(a)return y.$offset=p,y.$u=t===0,y;if(t!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(y=this.local().add(p+_,u)).$offset=p,y.$x.$localOffset=_}else y=this.utc();return y};var r=m.format;m.format=function(t){var a=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return r.call(this,a)},m.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var s=m.toDate;m.toDate=function(t){return t==="s"&&this.$offset?D(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():s.call(this)};var n=m.diff;m.diff=function(t,a,f){if(t&&this.$u===t.$u)return n.call(this,t,a,f);var p=this.local(),y=D(t).local();return n.call(p,y,a,f)}}})}(W)),W.exports}var je=ze();const qe=V(je);var Z={exports:{}},Ge=Z.exports,ve;function Ke(){return ve||(ve=1,function(e,o){(function(u,v){e.exports=v()})(Ge,function(){var u={year:0,month:1,day:2,hour:3,minute:4,second:5},v={};return function(l,d,i){var D,m=function(r,s,n){n===void 0&&(n={});var t=new Date(r),a=function(f,p){p===void 0&&(p={});var y=p.timeZoneName||"short",_=f+"|"+y,T=v[_];return T||(T=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:f,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:y}),v[_]=T),T}(s,n);return a.formatToParts(t)},c=function(r,s){for(var n=m(r,s),t=[],a=0;a<n.length;a+=1){var f=n[a],p=f.type,y=f.value,_=u[p];_>=0&&(t[_]=parseInt(y,10))}var T=t[3],I=T===24?0:T,x=t[0]+"-"+t[1]+"-"+t[2]+" "+I+":"+t[4]+":"+t[5]+":000",$=+r;return(i.utc(x).valueOf()-($-=$%1e3))/6e4},g=d.prototype;g.tz=function(r,s){r===void 0&&(r=D);var n,t=this.utcOffset(),a=this.toDate(),f=a.toLocaleString("en-US",{timeZone:r}),p=Math.round((a-new Date(f))/1e3/60),y=15*-Math.round(a.getTimezoneOffset()/15)-p;if(!Number(y))n=this.utcOffset(0,s);else if(n=i(f,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(y,!0),s){var _=n.utcOffset();n=n.add(t-_,"minute")}return n.$x.$timezone=r,n},g.offsetName=function(r){var s=this.$x.$timezone||i.tz.guess(),n=m(this.valueOf(),s,{timeZoneName:r}).find(function(t){return t.type.toLowerCase()==="timezonename"});return n&&n.value};var h=g.startOf;g.startOf=function(r,s){if(!this.$x||!this.$x.$timezone)return h.call(this,r,s);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return h.call(n,r,s).tz(this.$x.$timezone,!0)},i.tz=function(r,s,n){var t=n&&s,a=n||s||D,f=c(+i(),a);if(typeof r!="string")return i(r).tz(a);var p=function(I,x,$){var b=I-60*x*1e3,B=c(b,$);if(x===B)return[b,x];var H=c(b-=60*(B-x)*1e3,$);return B===H?[b,B]:[I-60*Math.min(B,H)*1e3,Math.max(B,H)]}(i.utc(r,t).valueOf(),f,a),y=p[0],_=p[1],T=i(y).utcOffset(_);return T.$x.$timezone=a,T},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(r){D=r}}})}(Z)),Z.exports}var We=Ke();const Ze=V(We);var J={exports:{}},Je=J.exports,pe;function Xe(){return pe||(pe=1,function(e,o){(function(u,v){e.exports=v()})(Je,function(){return function(u,v){v.prototype.isSameOrBefore=function(l,d){return this.isSame(l,d)||this.isBefore(l,d)}}})}(J)),J.exports}var Qe=Xe();const et=V(Qe);var X={exports:{}},tt=X.exports,ye;function nt(){return ye||(ye=1,function(e,o){(function(u,v){e.exports=v()})(tt,function(){return function(u,v){v.prototype.isSameOrAfter=function(l,d){return this.isSame(l,d)||this.isAfter(l,d)}}})}(X)),X.exports}var at=nt();const st=V(at),ot={DEFAULT_EXPORT_MONTHS:1,DEFAULT_SEARCH_PERIOD:30,DEFAULT_MEETUP_START_TIME:"17:00",DEFAULT_HOLIDAY_YEARS:5,DEFAULT_EXPORTDAY:16},se={ISO_DATE:"YYYY-MM-DD",DISPLAY_DATE:"YYYY/MM/DD",FILE_NAME_DATE:"YYYYMMDD"},rt=["日","月","火","水","木","金","土"],sn={DEFAULT_ASPECT_RATIO:1.35,HEIGHT:"auto",LOCALE:"ja",INITIAL_VIEW:"dayGridMonth"},it="設定祝日",on=["12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"],rn=[{value:"30",text:"1ヶ月"},{value:"60",text:"2ヶ月"},{value:"90",text:"3ヶ月"},{value:"120",text:"4ヶ月"},{value:"150",text:"5ヶ月"},{value:"180",text:"6ヶ月"}],L={INIT_FAILED:"アプリケーションの初期化に失敗しました",CALENDAR_IS_NOT_INITIALIZED_YET:"カレンダーがまだ初期化されていません",JSON_ROWS_MISMATCH:"CSVファイルの行数が一致しません",UNKNOWN_CSV_FORMAT:"不明な形式のCSVです",NO_BASE_DATE:"URLパラメータに基準日が含まれていません",BASEDATE_CONFIGURATION_ERROR:"基準日設定失敗",INVALID_BASE_DATE:"無効な基準日です",INVALID_STARTNUMBER:"無効なコマ位置です",INVALID_URL_PARAM:"無効なURLパラメータです",PARAM_OUT_OF_RANGE:"パラメータが有効範囲外です",CONFIG_NOT_LOADED:"設定が完全に読み込まれていません",CONFIG_LOAD_ERROR:"設定の取得に失敗しました",EVENT_CONFIG_ERROR:"イベント設定が読み込まれていないか無効です",SCHEDULE_DATA_ERROR:"スケジュールデータの読み込みに失敗しました",HOLIDAYS_LOAD_ERROR:"祝日データの取得に失敗しました",ICS_EXPORT_ERROR:"ICSファイルのエクスポート中にエラーが発生しました",NO_PARTICIPANTS:"参加者を1人以上選択してください",GOAHEAD:"行ってらっしゃいませ"};M.extend(qe);M.extend(Ze);M.extend(et);M.extend(st);M.tz.setDefault("Asia/Tokyo");function S(e){return M.isDayjs(e)?e:M(e)}function oe(e,o){return S(e).format(o)}function w(e){return oe(e,se.ISO_DATE)}function ee(e){return oe(e,se.DISPLAY_DATE)}function un(e){return oe(e,se.FILE_NAME_DATE)}function ln(e){return rt[S(e).day()]}function ut(e,o){return S(e).isSame(S(o),"day")}function Oe(e,o){return S(e).isBefore(S(o),"day")}function cn(e,o){return S(e).isAfter(S(o),"day")}function lt(e,o){return S(e).isSameOrAfter(S(o),"day")}function dn(e,o,u="day"){return S(e).isSame(S(o),u)}function ct(){return M().startOf("day")}function ne(e,o){return S(e).add(o,"day")}function fn(e,o){return S(e).add(o,"month")}function mn(e){return S(e).startOf("day")}function dt(e){return S(e).day()}function ft(e){return dt(e)===0}function De(e){return S(e).toDate()}function ge(e){return S(e).unix()}function Se(e){if(!e)return;const[o,u="00"]=e.split(":");return M().hour(parseInt(o,10)).minute(parseInt(u,10)).second(0)}const mt=ae("schedule",()=>{const e=R({holiday:[],saturday:[],weekday:[],rotationCycleLength:0}),o=R(void 0),u=R(void 0),v=R(void 0),l=E(()=>e.value.rotationCycleLength>0);function d(c){e.value=c}function i(c){o.value=c}function D(c){u.value=c}function m(c){v.value=c}return{scheduleData:E(()=>e.value),defaultBaseDate:E(()=>o.value),activeBaseDate:E(()=>u.value),nextBaseDate:E(()=>v.value),isDataLoaded:l,setScheduleData:d,setDefaultBaseDate:i,updateActiveBaseDate:D,setNextBaseDate:m}});var ht=Be();const vt=V(ht),pt=ae("holiday",()=>{const e=R({}),o=R(void 0),u=R([]);function v(i){e.value=i}function l(i){o.value=i}function d(i){u.value=i}return{allHolidays:E(()=>e.value),holidayYearsRange:E(()=>o.value),userDefinedHolidays:E(()=>u.value),setHolidays:v,setHolidayYearsRange:l,setUserDefinedHolidays:d}});function re(){const e=pt(),o=E(()=>e.allHolidays),u=E(()=>e.holidayYearsRange),v=E(()=>e.userDefinedHolidays);function l(h){const r=S(h),s=w(r);return o.value[s]!==void 0||ft(r)}function d(h){const r=S(h),s=w(r);return o.value[s]}function i(h){e.setHolidayYearsRange(h)}function D(h){e.setUserDefinedHolidays(h)}function m(h,r,s,n){r.forEach(t=>{let[a,f]=t.split("-");for(let p=s-n;p<=s+n;p++){let y=`${p}-${a}-${f}`;h[y]===void 0&&(h[y]=it)}})}function c(h,r){const s=S().year(),n={};for(let t=s-h;t<=s+h;t++)vt.getHolidaysOf(t).forEach(f=>{const p=S(`${t}-${String(f.month).padStart(2,"0")}-${String(f.date).padStart(2,"0")}`),y=w(p);n[y]=f.name});return r&&r.length>0&&m(n,r,s,h),n}function g(){try{const h=c(u.value,v.value);return e.setHolidays(h),h}catch(h){throw console.error(L.HOLIDAYS_LOAD_ERROR,h),h}}return{allHolidays:o,holidayYearsRange:u,userDefinedHolidays:v,isHolidaysLoaded:E(()=>Object.keys(o.value).length>0),isHoliday:l,getHolidayName:d,setHolidayYearsRange:i,setUserDefinedHolidays:D,addUserDefinedHolidays:m,fetchHolidays:c,loadHolidays:g}}function Q(){const e=mt(),{isHoliday:o}=re(),u=E(()=>e.scheduleData),v=E(()=>e.defaultBaseDate),l=E(()=>e.activeBaseDate),d=E(()=>e.nextBaseDate);function i(s,n,t){const a=S(s),f=S(t),p=a.diff(f,"day"),y=n-1,_=u.value.rotationCycleLength;return((y+p)%_+_)%_}function D(s,n,t){const a=S(s),f=t?S(t):l.value,p=o(a),y=a.day()===6,_=w(a),T=w(f),I=w(d.value);if(ge(f)!==ge(d.value)&&_>=I||_<T)return{};const x=i(a,n,f);let $;if(p?$=u.value.holiday[x]:y?$=u.value.saturday[x]:$=u.value.weekday[x],!$)return;const[b,B,H]=$.split(",");return{dateStr:_,subject:b,startTime:B,endTime:H,isHoliday:p,isSaturday:y,shiftIndex:x}}function m(s,n,t,a){const f=[];let p=S(s);const y=S(n);for(;Oe(p,y);){const _=D(p,t,a);_&&f.push({date:p,..._}),p=ne(p,1)}return f}function c(s,n,t){try{const a=s.length;if(a!==n.length||a!==t.length)throw new Error(L.JSON_ROWS_MISMATCH);const f={holiday:s,saturday:n,weekday:t,rotationCycleLength:a};return e.setScheduleData(f),f}catch(a){throw console.error(L.SCHEDULE_DATA_ERROR,a),a}}function g(s){e.setDefaultBaseDate(s)}function h(s){e.updateActiveBaseDate(S(s))}function r(s){e.setNextBaseDate(S(s))}return{scheduleData:u,defaultBaseDate:v,activeBaseDate:l,nextBaseDate:d,isDataLoaded:E(()=>u.value.rotationCycleLength>0),rotationCycleLength:E(()=>u.value.rotationCycleLength),calculateShiftIndex:i,getScheduleForDate:D,calculateScheduleRange:m,loadScheduleData:c,setDefaultBaseDate:g,updateActiveBaseDate:h,setNextBaseDate:r}}const yt=ae("calendar",()=>{const e=R(void 0),o=R(void 0),u=R([]),v=R({}),l=R(void 0),d=E(()=>l.value!==void 0);function i(h){e.value=h}function D(h){o.value=h}function m(h){u.value=h}function c(h){v.value=h}function g(h){l.value=h}return{startPosition:e,exportMonths:o,calendarEvents:u,icsExportConfig:v,eventConfig:l,isConfigLoaded:d,setStartPosition:i,setExportMonths:D,setCalendarEvents:m,setICSExportConfig:c,setEventConfig:g}});function ie(){const e=yt(),{getScheduleForDate:o}=Q(),{getHolidayName:u}=re(),v=E(()=>e.calendarEvents),l=E(()=>e.startPosition),d=E(()=>e.eventConfig),i=E(()=>e.icsExportConfig);function D(t){e.setStartPosition(t)}function m(t){e.setExportMonths(t)}function c(t){e.setCalendarEvents(t)}function g(t){e.setICSExportConfig(t)}function h(t){e.setEventConfig(t)}function r(t){var f;const a=d.value;if(!a||!a.events)return{type:"default",config:((f=a==null?void 0:a.events)==null?void 0:f.default)||{}};for(const[p,y]of Object.entries(a.events))if(p!=="default"&&y.keywords&&y.keywords.some(_=>t==null?void 0:t.includes(_)))return{type:p,config:y};return{type:"default",config:a.events.default}}function s(t,a){if(!t)return!1;const{subject:f,endTime:p}=t,y=d.value;if(y&&y.events){const I=y.events.restDay;if(I&&I.keywords&&I.keywords.some(x=>f===x))return!0}if(!p)return!1;const _=Se(p),T=Se(a);return _.isBefore(T)}function n(t,a){const f=[],p=l.value;let y=S(t);const _=S(a);for(;Oe(y,_);){const T=o(y,p);if(!T){y=ne(y,1);continue}const{dateStr:I,subject:x,startTime:$,endTime:b,isHoliday:B,isSaturday:H,shiftIndex:A}=T,{config:O}=r(x);f.push({title:O.showTime?`${x}
${$} - 
${b}`:x,start:I,color:O.color,extendedProps:{startTime:$,endTime:b,isShift:!0,isHoliday:B,isSaturday:H,shiftIndex:A,holidayName:u(y)}}),y=ne(y,1)}return c(f),f}return{calendarEvents:v,startPosition:l,eventConfig:d,icsExportConfig:i,isConfigLoaded:E(()=>d.value!==void 0),setStartPosition:D,setExportMonths:m,setCalendarEvents:c,setICSExportConfig:g,setEventConfig:h,getEventType:r,canAttendMeetup:s,generateCalendarEvents:n}}const Dt=["aria-pressed"],gt={__name:"DarkModeToggle",setup(e){const o=R(!1);Ee(()=>{localStorage.getItem("dark-mode")==="on"&&(document.documentElement.classList.add("dark"),o.value=!0)});function u(){o.value=!o.value,document.documentElement.classList.toggle("dark",o.value),localStorage.setItem("dark-mode",o.value?"on":"off")}return(v,l)=>(C(),N("button",{class:"dark-toggle",onClick:u,"aria-pressed":o.value,"aria-label":"ダークモード切替"},q(o.value?"☀️":"🌙"),9,Dt))}},St={class:"page-layout"},_t={key:0,class:"calendar-page-layout"},Et={class:"control-section"},At={class:"calendar-section"},Ot={class:"export-section"},Tt={key:1,class:"meetup-page-layout"},It={class:"search-controls-section"},xt={class:"participants-section"},Ct={class:"search-button-section"},$t={key:0,class:"results-section"},Rt={key:2},Lt=["href"],bt={key:1,href:"/kobancalendar/#/"},Pt={__name:"UnifiedPageLayout",props:{title:{type:String,default:""},layout:{type:String,default:"default"},showResults:{type:Boolean,default:!1}},setup(e){const o=e,{activeBaseDate:u}=Q(),{startPosition:v}=ie(),l=xe(),d=E(()=>l.path==="/"||l.path===""),i=E(()=>l.path==="/meetup"),D=E(()=>{let c="/kobancalendar/";const g=[];return u.value&&g.push(`baseDate=${w(u.value)}`),v.value&&g.push(`participants=${v.value}`),g.length>0&&(c+=`?${g.join("&")}#/meetup`),c}),m=E(()=>o.title?o.title:o.layout==="calendar"||d.value?"KobanCalendar🚨":o.layout==="meetup"||i.value?"NominiIkundar🍻":"KobanCalendar🚨");return(c,g)=>(C(),N("div",St,[P("header",null,[P("h1",null,q(m.value),1),K(gt)]),P("main",null,[e.layout==="calendar"?(C(),N("div",_t,[P("section",Et,[U(c.$slots,"controls")]),P("section",At,[U(c.$slots,"calendar")]),P("section",Ot,[U(c.$slots,"export")])])):e.layout==="meetup"?(C(),N("div",Tt,[P("section",It,[U(c.$slots,"search-controls")]),P("section",xt,[U(c.$slots,"participants")]),P("section",Ct,[U(c.$slots,"search-button")]),e.showResults?(C(),N("section",$t,[U(c.$slots,"results")])):F("",!0)])):(C(),N("div",Rt,[U(c.$slots,"default")]))]),P("footer",null,[P("p",null,[g[0]||(g[0]=ce(" KobanCalendar - ")),g[1]||(g[1]=P("a",{href:"https://github.com/bn-k1/kobancalendar?tab=readme-ov-file#kobancalendar",target:"_blank",rel:"noopener noreferrer"}," GitHub ",-1)),g[2]||(g[2]=ce(" - ")),d.value?(C(),N("a",{key:0,href:D.value},"🍻",8,Lt)):F("",!0),i.value?(C(),N("a",bt,"🚨")):F("",!0)])])]))}},Nt=["id"],wt={class:"form-group"},Bt={key:0},Ht=["id","aria-label","value"],kt={key:0,value:"",disabled:"",selected:""},Ut=["value","disabled"],_e={__name:"BaseSelector",props:{id:{type:String,default:"baseSelector"},legend:{type:String,required:!0},ariaLabel:{type:String,default:""},modelValue:{type:[String,Number,Date,Object],required:!1},options:{type:Array,default:()=>[]},displayValue:{type:String,default:""},displayAsText:{type:Boolean,default:!1},formatter:{type:Function}},emits:["update:modelValue","change"],setup(e,{emit:o}){const u=e,v=o;function l(i){return u.formatter?u.formatter(i):i===void 0?"":typeof i=="object"?i.toString?i.toString():JSON.stringify(i):String(i)}function d(i){const D=i.target.value;v("update:modelValue",D),v("change",D)}return(i,D)=>(C(),N("fieldset",{id:e.id,class:"control-group"},[P("legend",null,q(e.legend),1),P("div",wt,[e.displayAsText||e.options.length===1?(C(),N("span",Bt,q(e.displayValue||(e.options.length===1&&e.formatter?e.formatter(e.options[0].value||e.options[0]):l(e.options[0]))),1)):(C(),N("select",{key:1,id:e.id,"aria-label":e.ariaLabel,value:e.modelValue,onChange:d},[e.modelValue?F("",!0):(C(),N("option",kt," コマ位置を選択 ")),(C(!0),N(Ce,null,$e(e.options,m=>(C(),N("option",{key:m.value||m,value:m.value||m,disabled:m.disabled},q(m.text||l(m)),9,Ut))),128))],40,Ht)),U(i.$slots,"default")])],8,Nt))}};function Mt(){const e=R(!1),{setEventConfig:o,setICSExportConfig:u}=ie(),{loadScheduleData:v,setDefaultBaseDate:l,setNextBaseDate:d}=Q(),{setHolidayYearsRange:i,setUserDefinedHolidays:D,loadHolidays:m}=re();async function c(g){const{holidayData:h,saturdayData:r,weekdayData:s,config:n,eventConfig:t}=g;try{i(ot.DEFAULT_HOLIDAY_YEARS),D(n.custom_holidays||[]),m(),o(t),u(n.info);const a=v(h,r,s),f=S(n.default_base_date);if(l(f),n.next_base_date){const p=S(n.next_base_date);d(p)}else d(f);return e.value=!0,{scheduleData:a,defaultBaseDate:f}}catch(a){return console.error(L.INIT_FAILED,a),!1}}return{isLoaded:e,initializeApp:c}}function Yt(){const e=["baseDate","startNumber","participants","startTime","period"];function o(){window.history.replaceState({},"",window.location.pathname)}function u(){const r=new URL(window.location);Array.from(r.searchParams.keys()).filter(t=>!e.includes(t)).length>0&&o()}function v(){const r=new URL(window.location);if(!(r.searchParams.toString().length>0))return;const n=r.searchParams.get("baseDate");if(!n){alert(L.NO_BASE_DATE),o();return}S(n).isValid()||(alert(L.NO_BASE_DATE),o())}u(),v();function l(r){const s=new URL(window.location);Object.entries(r).forEach(([n,t])=>{t!==void 0?s.searchParams.set(n,t):s.searchParams.delete(n)}),window.history.replaceState({},"",s)}function d(r,s=void 0){const n=new URLSearchParams(window.location.search);return n.has(r)?n.get(r):s}function i(r,s,n=[]){const t=d(r);if(!t)return s;const a=S(t);return a.isValid()?n.length>0&&!n.some(p=>ut(p,a))?(alert(L.INVALID_BASE_DATE),o(),s):a:(console.error(`${L.INVALID_URL_PARAM}: ${r}`),o(),s)}function D(r,s,n=void 0,t=void 0){const a=d(r);if(!a)return s;const f=parseInt(a,10);return isNaN(f)?(console.error(`${L.INVALID_URL_PARAM}: ${r}`),o(),s):n!==void 0&&f<n||t!==void 0&&f>t?(console.error(L.PARAM_OUT_OF_RANGE),o(),s):f}function m(r,s){return d(r,s)}function c(){const r=d("participants","");if(!r)return[{position:""}];const s=r.split(",").map(n=>parseInt(n,10)).filter(n=>!isNaN(n));return s.length>0?s.map(n=>({position:n})):[{position:""}]}function g(r,s){l({baseDate:w(r),startNumber:s})}function h(r,s,n={}){const t=s.filter(a=>a.position).map(a=>a.position).join(",");l({baseDate:w(r),participants:t,...n})}return{getDateParam:i,getNumberParam:D,getStringParam:m,getParticipantsFromParams:c,updateCalendarParams:g,updateMeetupParams:h}}const Ft=["公休,,","法休,,","104,13:46,20:30","空,,","T113/114,07:39,22:04","132,14:36,23:24","814,12:19,22:26","公休,,","法休,,","空,,","T501/502,06:25,20:36","143,07:51,20:30","空,,","黄121,05:23,12:41","法休,,","131,05:43,15:40","T805/806,05:44,19:41","空,,","139,05:59,20:03","空,,","135,05:52,15:02","公休,,","法休,,","空,,","711,06:34,19:01","空,,","空,,","123,05:32,14:10","法休,,","空,,","空,,","空,,","126,13:36,22:44","134,15:16,23:20","P予備,13:00,21:55","公休,,","法休,,","812,11:49,22:15","T807/808,08:19,21:55","141,07:33,19:54","空,,","黄133,05:46,13:25","法休,,","129,05:41,19:32","815,05:33,19:26","空,,","空,,","513,05:39,13:44","公休,,","法休,,","T503/504,07:13,21:08","空,,","1105,06:42,14:54","821,07:19,19:11","803,07:34,13:56","法休,,","804,13:04,21:25","105/106,07:26,21:27","128,14:01,23:02","516,13:48,23:08","130,14:26,22:31","124,13:06,22:16","公休,,","法休,,","3011,08:56,18:14","521,08:25,17:24","823,07:52,18:26","空,,","黄125,05:33,12:31","法休,,","517,06:07,15:00","1101,05:31,13:09","T703/704,09:18,22:13","空,,","空,,","101,06:08,12:17","公休,,","法休,,","102,12:24,19:32","T111/112,06:59,20:51","空,,","147,08:49,17:40","515,05:53,13:56","法休,,","817,05:48,18:41","801/802,06:34,20:49","空,,","空,,","713,08:33,15:16","公休,,","法休,,","519,06:42,20:44","145,08:14,17:42","空,,","空,,","黄813,05:29,12:56","法休,,","107/108,06:51,21:03","空,,","1106,14:37,20:37","空,,","空,,","512,12:48,22:46","公休,,","法休,,","514,13:00,22:29","122,12:06,23:04","空,,","825,08:34,19:56","137,05:54,14:47","法休,,","空,,","1103,05:46,19:44","T109/110,06:02,20:20","空,,","127,05:40,19:24","A予備,05:10,14:05","公休,,","法休,,","701/702,06:22,19:46","空,,","空,,","819,05:59,16:56","黄511,05:26,13:10","法休,,","811,05:18,18:56","空,,","空,,","空,,","103,06:12,14:21"],Vt=["公休,,","法休,,","104,13:46,20:30","空,,","T113/114,07:39,22:04","132,14:36,23:24","814,12:19,22:26","公休,,","法休,,","空,,","T501/502,06:25,20:36","143,07:51,20:30","空,,","黄121,05:23,12:41","法休,,","131,05:43,15:40","T805/806,05:44,19:41","空,,","139,05:59,20:03","空,,","135,05:52,15:02","公休,,","法休,,","空,,","711,06:34,19:01","空,,","空,,","123,05:32,14:10","法休,,","空,,","空,,","空,,","126,13:36,22:44","134,15:16,23:20","P予備,13:00,21:55","公休,,","法休,,","812,11:49,22:15","T807/808,08:19,21:55","141,07:33,19:54","空,,","黄133,05:46,13:25","法休,,","129,05:41,19:32","815,05:33,19:26","空,,","空,,","513,05:39,13:44","公休,,","法休,,","T503/504,07:13,21:08","空,,","1105,06:42,14:54","821,07:19,19:11","803,07:34,13:56","法休,,","804,13:04,21:25","105/106,07:26,21:27","128,14:01,23:02","516,13:48,23:08","130,14:26,22:31","124,13:06,22:16","公休,,","法休,,","3011,08:56,18:14","521,08:25,17:24","823,07:52,18:26","空,,","黄125,05:33,12:31","法休,,","517,06:07,15:00","1101,05:31,13:09","T703/704,09:18,22:13","空,,","1513,08:30,17:11","101,06:08,12:17","公休,,","法休,,","102,12:24,19:32","T111/112,06:59,20:51","空,,","147,08:49,17:40","515,05:53,13:56","法休,,","817,05:48,18:41","801/802,06:34,20:49","空,,","空,,","713,08:33,15:16","公休,,","法休,,","519,06:42,20:44","145,08:14,17:42","空,,","空,,","黄813,05:29,12:56","法休,,","107/108,06:51,21:03","空,,","1106,14:37,20:37","空,,","空,,","512,12:48,22:46","公休,,","法休,,","514,13:00,22:29","122,12:06,23:04","空,,","825,08:34,19:56","137,05:54,14:47","法休,,","空,,","1103,05:46,19:44","T109/110,06:02,20:20","空,,","127,05:40,19:24","A予備,05:10,14:05","公休,,","法休,,","701/702,06:22,19:46","空,,","空,,","819,05:59,16:56","黄511,05:26,13:10","法休,,","811,05:18,18:56","空,,","空,,","1511,06:11,19:46","103,06:12,14:21"],zt=["公休,,","法休,,","804,12:09,20:15","819,06:44,21:11","T809/810,07:39,22:04","134,17:26,24:42","816,15:24,22:50","公休,,","法休,,","827,09:09,19:31","T501/502,06:25,20:35","145,06:34,20:43","空,,","黄815,05:36,11:46","法休,,","811,05:06,13:31","101/102,05:18,18:46","空,,","133,05:51,20:01","空,,","105,06:05,12:46","公休,,","法休,,","106,12:56,20:26","715,06:09,19:26","T113/114,05:35,18:34","空,,","141,06:13,12:36","法休,,","523,06:00,14:02","空,,","空,,","128,15:32,22:58","132,16:20,24:11","P予備,13:00,21:55","公休,,","法休,,","512,11:48,21:49","T119/120,07:55,21:20","823,07:34,20:34","空,,","黄135,05:58,12:13","法休,,","517,05:35,19:11","813,05:22,18:56","空,,","空,,","511,05:11,12:44","公休,,","法休,,","T807/808,05:42,20:06","空,,","1105,06:42,14:54","817,06:19,19:32","711,05:22,12:46","法休,,","821,07:19,19:41","T117/118,07:47,21:57","712,14:03,23:25","516,14:59,23:29","122,14:31,24:22","812,12:54,22:39","公休,,","法休,,","825,08:37,22:26","717,08:18,21:01","1106,14:37,20:37","525,06:10,17:53","黄121,05:07,11:13","法休,,","131,05:49,13:06","1101,05:31,13:09","T701/702,07:28,21:13","149,08:22,22:33","1513,08:30,17:11","103,05:48,12:06","公休,,","法休,,","104,11:41,20:04","T115/116,06:48,21:10","529,06:55,20:54","151,10:06,18:42","513,05:20,12:22","法休,,","519,05:48,18:20","109/110,06:23,20:13","147,07:16,20:52","527,06:25,20:30","107,06:24,12:58","公休,,","法休,,","143,06:27,20:33","108,12:34,20:38","139,06:10,20:38","空,,","黄129,05:37,11:28","法休,,","111/112,07:26,21:42","空,,","514,13:54,23:43","126,15:31,23:06","518,15:04,24:56","814,14:39,22:57","公休,,","法休,,","124,15:11,23:03","130,15:50,23:43","空,,","153,10:51,19:36","713,05:37,12:01","法休,,","127,05:29,12:26","1103,05:46,19:44","801/802,05:19,19:11","空,,","137,05:59,16:56","A予備,05:10,14:05","公休,,","法休,,","T805/806,06:33,20:09","空,,","125,05:28,18:27","123,05:23,19:03","黄515,05:25,11:20","法休,,","521,05:49,18:34","空,,","空,,","1511,06:11,19:46","803,06:18,13:01"],jt={restDay:{keywords:["公休","法休"],color:"red",showTime:!1},empty:{keywords:["空"],color:"dodgerblue",showTime:!1},special:{keywords:["黄"],color:"orange",showTime:!0},default:{keywords:[],color:"dodgerblue",showTime:!0}},qt={events:jt},Gt="2025-05-16",Kt=["08-13","08-14","08-15","12-28","12-29","12-30","12-31","01-02","01-03"],Wt={calendar_name:"KobanCalendar",timezone:"Asia/Tokyo",company:"bn-k1",product:"kobancalendar",language:"JP",uid_domain:"kobancalendar.jp"},Zt={default_base_date:Gt,custom_holidays:Kt,info:Wt},Jt={key:0,class:"horizontal-fields"},Xt={__name:"HomeView",setup(e){const o=fe(()=>te(()=>import("./CalendarView-D2FIifXi.js"),__vite__mapDeps([0,1,2,3,4]))),u=fe(()=>te(()=>import("./ExportSection-DeFeCflD.js"),__vite__mapDeps([5,2,3]))),{getDateParam:v,getNumberParam:l,updateCalendarParams:d}=Yt(),{isLoaded:i,initializeApp:D}=Mt(),m=R(void 0),c=R(""),{calendarEvents:g,startPosition:h,generateCalendarEvents:r,setStartPosition:s}=ie(),{defaultBaseDate:n,activeBaseDate:t,nextBaseDate:a,rotationCycleLength:f,updateActiveBaseDate:p}=Q(),y=E(()=>{const A=[];return n.value&&A.push({value:w(n.value),text:ee(n.value)}),a.value&&!(n.value&&w(n.value)===w(a.value))&&A.push({value:w(a.value),text:ee(a.value)}),A}),_=E(()=>Array.from({length:f.value},(A,O)=>({value:O+1,text:String(O+1)}))),T=E(()=>{if(!t.value)return;const A=ct();return lt(t.value,A)?De(t.value):De(A)}),I=R(void 0);function x(A){const O=S(A);p(O),d(O,I.value)}function $(A){const O=parseInt(A,10);I.value=O,s(O),d(c.value,O)}function b({start:A,end:O}){r(A,O)}function B({success:A,error:O}){!A&&O&&alert(L.ICS_EXPORT_ERROR)}async function H(){try{const A=await D({holidayData:Ft,saturdayData:Vt,weekdayData:zt,config:Zt,eventConfig:qt});if(!A){alert(L.INIT_FAILED);return}const O=[n.value,a.value].filter(Boolean),Y=v("baseDate",void 0,O),le=l("startNumber",void 0,1,A.scheduleData.rotationCycleLength);let z;if(Y)z=Y,p(z);else if(n.value)z=n.value,p(z);else return console.error(L.NO_BASE_DATE),!1;return c.value=w(z),!Y||!le?(s(void 0),!0):(s(le),!0)}catch(A){return console.error(L.INIT_FAILED,A),alert(L.INIT_FAILED),!1}}return de(t,A=>{A&&(c.value=w(A))}),de(h,A=>{A&&A!==I.value&&(I.value=A)}),Ee(async()=>{await H()}),(A,O)=>(C(),G(Pt,{layout:"calendar"},{controls:j(()=>[k(i)&&c.value?(C(),N("div",Jt,[K(_e,{id:"baseDate",legend:"基準日","aria-label":"基準日を選択",modelValue:c.value,"onUpdate:modelValue":O[0]||(O[0]=Y=>c.value=Y),options:y.value,formatter:k(ee),onChange:x},null,8,["modelValue","options","formatter"]),K(_e,{id:"startNumber",legend:"基準日のコマ位置","aria-label":"コマ位置を選択",modelValue:I.value,"onUpdate:modelValue":O[1]||(O[1]=Y=>I.value=Y),options:_.value,onChange:$},null,8,["modelValue","options"])])):F("",!0)]),calendar:j(()=>[(C(),G(Re,null,{fallback:j(()=>O[2]||(O[2]=[P("div",{class:"loading-placeholder"},"Loading...",-1)])),default:j(()=>[K(k(o),{ref_key:"calendarRef",ref:m,"initial-date":T.value,"start-position":I.value,events:k(g),onDatesSet:b},null,8,["initial-date","start-position","events"])]),_:1}))]),export:j(()=>[k(i)&&k(t)?(C(),G(k(u),{key:0,"base-date":k(t),"next-base-date":k(a),"start-position":I.value,onExportComplete:B},null,8,["base-date","next-base-date","start-position"])):F("",!0)]),_:1}))}},Qt=Ae(Xt,[["__scopeId","data-v-7c852be3"]]),en=[{path:"/",name:"home",component:Qt,meta:{title:"KobanCalendar🚨"}},{path:"/meetup",name:"meetup",component:()=>te(()=>import("./MeetupView-yACMZsq-.js"),__vite__mapDeps([6,2,3,7])),meta:{title:"NominiIkundar🍻"}}],Te=Le({history:be("/kobancalendar/"),routes:en});Te.beforeEach((e,o,u)=>{document.title=e.meta.title||"KobanCalendar",u()});const ue=Pe(Ue),tn=Ne();ue.use(tn);ue.use(Te);ue.mount("#app");export{ot as A,dn as B,sn as C,fn as D,L as E,ln as F,rn as P,on as T,Ae as _,ie as a,ne as b,S as c,Mt as d,Yt as e,ee as f,w as g,Pt as h,Oe as i,qt as j,Zt as k,Ft as l,ct as m,cn as n,_e as o,te as p,re as q,ut as r,Vt as s,ge as t,Q as u,De as v,zt as w,un as x,yt as y,mn as z};
