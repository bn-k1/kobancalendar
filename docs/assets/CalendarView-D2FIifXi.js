import{i as D,F as E}from"./calendar-dbx3VTxU.js";import{_ as I,q as A,C as l,c as n,r as N,m as $}from"./index-DNft2jKW.js";import{b as r,e as T,w as g,f as x,g as b,o as H,j as L,q as O}from"./vendor-BBDa20j7.js";import"./utils-mma0L5NJ.js";const R={class:"calendar-container"},V={__name:"CalendarView",props:{initialDate:{type:[Date,Object]},startPosition:{type:Number,required:!1},events:{type:Array,default:()=>[]}},emits:["datesSet"],setup(f,{emit:y}){const d=f,o=y,{isHoliday:_,getHolidayName:h}=A(),c=r(void 0),s=r(void 0),i=r(void 0),S=T(()=>({plugins:[D],initialView:l.INITIAL_VIEW,initialDate:d.initialDate?d.initialDate:void 0,locale:l.LOCALE,events:d.events,aspectRatio:l.DEFAULT_ASPECT_RATIO,height:l.HEIGHT,dayCellClassNames:a=>{const e=n(a.date),t=[];return _(e)&&t.push("holiday"),e.day()===6&&t.push("fc-day-sat"),e.day()===0&&t.push("fc-day-sun"),N(e,$())&&t.push("today-highlight"),t},eventContent:a=>{const{event:e}=a;let[t,u="",v=""]=e.title.split(`
`);const{shiftIndex:m}=e.extendedProps,w=n(e.start),p=h(w),C=p?`${m+1} ${p}`:`${m+1}`;return{html:`
        <div class="event-title">${t}</div>
        ${u?`<div class="event-time">${u}</div>`:""}
        ${v?`<div class="event-time">${v}</div>`:""}
        <div class="event-meta">${C}</div>
      `}},datesSet:a=>{const e=n(a.start),t=n(a.end);(!s.value||!i.value||!e.isSame(s.value)||!t.isSame(i.value))&&(s.value=e,i.value=t,o("datesSet",{start:e,end:t}))}}));return g([()=>d.startPosition,()=>d.initialDate],()=>{s.value&&i.value&&o("datesSet",{start:s.value,end:i.value})}),x(()=>{setTimeout(()=>{if(c.value){const a=c.value.getApi();s.value=n(a.view.activeStart),i.value=n(a.view.activeEnd),o("datesSet",{start:s.value,end:i.value})}},0)}),(a,e)=>(H(),b("div",R,[L(O(E),{ref_key:"calendarRef",ref:c,options:S.value},null,8,["options"])]))}},j=I(V,[["__scopeId","data-v-b5079eab"]]);export{j as default};
